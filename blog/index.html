<!DOCTYPE html>
<html>
    <head>
        <title>Victor Johnson</title>
        <link rel="stylesheet" href="../css/elements.css">
        <link rel="stylesheet" href="../assets/highlight/styles/solarized-light.css">
        <link rel="stylesheet" href="../css/blog.css">
        <script type="text/javascript" src="../assets/jquery/jquery.min.js"></script>
        <script type="text/javascript" src="../assets/highlight/highlight.pack.js"></script>
        <script type="text/javascript" src="blog.js"></script>
        <script type="text/javascript" src="../assets/jquery/jquery-ui.min.js"></script>
    </head>
    <body id="body" class="dark">
        <div class="bg-img"></div>
        <div class="nav-menu">
            <ul>
                <li><a id="home-btn" href="../" class="smooth-scroll">Home</a></li>
                <li><a id="about-me-btn" href="../#about-me-page" class="smooth-scroll">About Me</a></li>
                <li><a id="portfolio-btn" href="../#portfolio-page" class="smooth-scroll">Portfolio</a></li>
                <li><a id="blog-btn" class="active" href="blog">Blog</a></li>
            </ul>
        </div>
        <div class="media-icons">
            <a href="https://github.com/vicjohnson1213">
                <svg id="github-icon" height="30px" viewBox="0 0 1024 1024">
                <g>
                    <path class="path1" d="M512 12.6c-282.7 0-512 229.2-512 512 0 226.2 146.7 418.1 350.1 485.8 25.6 4.7 35-11.1 35-24.6 0-12.2-0.5-52.5-0.7-95.3-142.4 31-172.5-60.4-172.5-60.4-23.3-59.2-56.8-74.9-56.8-74.9-46.5-31.8 3.5-31.1 3.5-31.1 51.4 3.6 78.5 52.8 78.5 52.8 45.7 78.3 119.8 55.6 149 42.6 4.6-33.1 17.9-55.7 32.5-68.5-113.7-12.9-233.3-56.8-233.3-253 0-55.9 20-101.6 52.8-137.4-5.3-12.9-22.9-65 5-135.5 0 0 43-13.8 140.8 52.5 40.8-11.3 84.6-17 128.2-17.2 43.5 0.2 87.3 5.9 128.3 17.2 97.7-66.2 140.7-52.5 140.7-52.5 27.9 70.5 10.4 122.6 5 135.5 32.8 35.9 52.7 81.5 52.7 137.4 0 196.7-119.8 240-233.8 252.6 18.4 15.9 34.7 47 34.7 94.8 0 68.5-0.6 123.6-0.6 140.5 0 13.6 9.2 29.6 35.2 24.6 203.3-67.8 349.8-259.6 349.8-485.8 0-282.8-229.2-512-512-512z"/>
                </g>
                </svg>
            </a>
            <a href="https://linkedin.com/in/vicjohnson1213">
                <svg height="30px" viewBox="0 0 100 100">
                    <path d="M50 0C22.4 0 0 22.4 0 50s22.4 50 50 50 50-22.4 50-50S77.6 0 50 0zM36.7 69.6H25.5V35.8h11.2V69.6zM31.1 31.2h-0.1c-3.8 0-6.2-2.6-6.2-5.8 0-3.3 2.5-5.8 6.4-5.8s6.2 2.5 6.3 5.8C37.4 28.6 35 31.2 31.1 31.2zM77.2 69.6H66V51.6c0-4.5-1.6-7.6-5.7-7.6 -3.1 0-5 2.1-5.8 4.1 -0.3 0.7-0.4 1.7-0.4 2.7v18.9H42.9c0 0 0.1-30.6 0-33.8h11.2v4.8c1.5-2.3 4.2-5.6 10.1-5.6 7.4 0 12.9 4.8 12.9 15.2V69.6z"/>
                </svg>
            </a>
            <a href="mailto:vicjohnson1213@gmail.com">
                <svg id="email-icon" height="30px" viewBox="0 0 1024 1024">
                    <path class="path1" d="M512 0c-282.8 0-512 229.2-512 512s229.2 512 512 512 512-229.2 512-512-229.2-512-512-512zM256 256h512c9.1 0 18 2 26.1 5.7l-282.1 329.2-282.1-329.2c8.1-3.7 17-5.7 26.1-5.7zM192 704v-384c0-1.3 0.1-2.7 0.1-4l187.7 218.9-185.6 185.6c-1.4-5.3-2.2-10.9-2.2-16.5zM768 768h-512c-5.7 0-11.2-0.8-16.5-2.2l182.1-182.1 90.4 105.5 90.4-105.5 182.1 182.1c-5.3 1.4-10.9 2.2-16.5 2.2zM832 704c0 5.7-0.8 11.2-2.2 16.5l-185.6-185.6 187.7-218.9c0.1 1.3 0.1 2.7 0.1 4v384z"/>
                </svg>
            </a>
        </div>
        <div class="posts">
            <div id="js-expressions" class="post">
                <h1>JS-Expressions</h1>
                <p>After a couple attempts at writing a small functional programming language using JavaScript, I noticed that a huge difficulty was efficiently parsing a program.  The best solution I had was a recursive approach to parsing each function call and building out an abstract syntax tree (AST).  Once that was done, the interpreter could quite easily work through the AST in a depth first aproach to interpret each expression.</p>

                <p>A simple arithmetic function call would eventually parse into a relatively large json object:</p>

<pre><code>[
  {
    "type": "function",
    "name": "+",
    "args": [
      {
        "type": "number",
        "value": "1"
      },
      {
        "type": "number",
        "value": "2"
      }
    ]
  }
]
</code></pre>

                <p>With that kind of overhead, there could be an issue with parsing larger programs.  Along with the overhad of the chosen data structure, the sheer complexity of the parser was getting difficult to maintain.  With these two issues surfacing, I started to look for a new parsing method.</p>

                <p>Some research concerning existing data structures used in some prominent languages (Lisp, Racket, etc.) provided some insight into s-expressions.  Having used a sibling of Racket, PLAI-Typed, I had some experience with s-expressions and how simple they are to work with, so I figured why not give it a try?</p>

                <p>I decided to throw a quick s-expression parser together in JavaScript  with a few class methods to preform some common actions on s-expressions.  Below shows the creation of an s-expression, a template s-expression, and some of the available methods:

<pre><code>var exp = new JSExpression('(+ 1 2)');
var template = new JSExpression('(+ NUMBER NUMBER)');
exp.match(template) === true;

var badTemplate = new JSExpression('(+ STRING NUMBER)');
exp.match(badTemplate) === false;

new JSExpression('123').toNumber() === 123;
new JSExpression('"string"').toString() === 'string';
new JSExpression('\'variable').toSymbol() === '\'variable';
new JSExpression('true').toBoolean() === true;
</code></pre>

                <p>As you can see, letting the JSExpression class do the dirty work with parsing the string into something consumable keeps the code required to extract parts to a minimum.

                <p>Unfortunately this is as far as I've made it with the JSExpression, so I'll update as I rewrite the Kelp parser to incorporate the new JSExpression!</p>
            </div>
        </div>
        <div id="footer" class="footer dark center-container">
            <div class="center-inside">
                <p class="lead bold"><a href="mailto:vicjohnson1213@gmail.com">vicjohnson1213@gmail.com</a></p>
                <p>&copy; 2015 Victor Johnson</p>
            </div>
        </div>
    </body>
</html>